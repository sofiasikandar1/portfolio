---
title: "homework #1"
author: "Sofia Sikandar"
date: "February 12, 2018"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

###3.2.4 Exercises

1. Run ggplot(data = mpg). What do you see?

Write your answer here. Include your R code below when necessary.
```{r}
library(ggplot2)
ggplot(data = mpg)
```

I see a empty, gray box. This is because ggplot(data=mpg) takes in the dataset but it does not plot the data points onto a graph. 

2. How many rows are in mpg? How many columns?
```{r}
nrow(mpg)
ncol(mpg)
```

3. What does the drv variable describe? Read the help for ?mpg to find out.

f = front-wheel drive, r = rear wheel drive, 4 = 4wd. Essentially, drv gives information about the style of the car's steering. 

4. Make a scatterplot of hwy vs cyl.
```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x=hwy, y = cyl))

```

5. What happens if you make a scatterplot of class vs drv? Why is the plot not useful?
```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x=class, y = drv))
```
This plot is not useful because the points overlap, thus there is no clear conclusion to make about the two, as they are both cateogorical variables. 
###3.3.1 Exercises

1.	What's gone wrong with this code? Why are the points not blue?
The points are not blue because the color should be specified outside of where the axises are declared. 
Instead it should be: 
```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x=displ, y = hwy), color = "blue")
```

2.	Which variables in mpg are categorical? Which variables are continuous? (Hint: type ?mpg to read the documentation for the dataset). How can you see this information when you run mpg?

The difference between categorical and continuous variables can be seen within their types. Categorical are of type chr, while continue of are type int or dbl. The categorical variables in mpg are: class, manufacturer, model, trans, drv, fl, and class. The continuous variables are: displ, cyl, cty, hwy. 

3.	Map a continuous variable to color, size, and shape. How do these aesthetics behave differently for categorical vs. continuous variables? 

#Continuous variable to color
```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x =displ, y = hwy,color = cyl))
```

#Continuous variable to size 
```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x =displ, y = hwy,size = cyl))
```

#Continuous variable to shape
Here we are given an error because continuous variables cannot be mapped to a shape. 

#Categorical variable to color
```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x =displ, y = hwy,color = class))
```

#Categorical variable to size
```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x =displ, y = hwy,size = class))
```

#Categorical variable to shape
```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x =displ, y = hwy,shape = class))
```

#Differences between categorical and continuous aesthetics:
Shape: For continous, it could not be mapped. For categorical, only 6 values could be taken and there seems to be different shapes for the data points for each type of vehicle. 
Color: For categorical, it seems that there are more categories and colors. For continuous, there is one variable we are considering, thus the color of the data points is varies by the shade of the color of the data points. 
Size: For categorical, the size seems to be remaining the same, while for continuous the size of the data points seems to be getting thicker an thicker. 

4.	What happens if you map the same variable to multiple aesthetics?
The data points are more diverse, as there are multiple aesthetics to consider now. Also, there are two legends instead of one. 
```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy, color = cyl, size = cyl))
```

5.	What does the stroke aesthetic do? What shapes does it work with? (Hint: use ?geom_point)
Stroke creates a border of the shape of the data sets.
```{r}
ggplot(data = mpg)+
  geom_point(mapping= aes(x =displ, y = hwy),stroke = 2, color = "blue", fill= "white", shape = 22)
```


6.	What happens if you map an aesthetic to something other than a variable name, like aes(colour = displ < 5)?

As seen in the graph below, if the value is less than 5, then the value is false. Also, if it is greater, then the value is true. 

```{r}
ggplot(data = mpg) + 
  geom_point(mapping=aes(x = displ, y = hwy, color = displ<5))
```

###3.5.1 Exercises
1. What happens if you facet on a continuous varibale?

The charts are not logically correct.
```{r}
ggplot(data = mpg)+
  geom_point(mapping = aes(x= displ, y = hwy))+ 
  facet_wrap(~cyl)
```

2. What do the empty cells in plot with facet_grid(drv ~ cyl) mean? How do they relate to this plot?

Empty cell in plot with facet_grid(drv ~ cyl) means that there are no relationships or conclusions for certain values. There are not many vehicles that share the same relationship with the variables displ and hwy. 
```{r}
ggplot(data = mpg)+
  geom_point(mapping = aes(x= displ, y = hwy)) +
  facet_grid(drv ~ cyl)
```


3. What plots does the following code make? What does . do?

If there is no variable, . can be used in place of a variable.

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_grid(drv ~ .)

ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_grid(. ~ cyl)
```

4. Take the first faceted plot in this section. What are the advantages to using faceting instead of the colour aesthetic? What are the disadvantages? How might the balance change if you had a larger dataset?

Faceting splits the graph into multiple grids, instead of having just one big grid (as is usually seen in most simple scatterplots). When there are multiple grids, however, faceting makes it more difficult for conclusions to be drawn. In comparison to colour aesthetic, it is more spread apart. The colour aesthetic allows data to be clustered together. 

```{r}
ggplot(data = mpg)+
  geom_point(mapping = aes(x = displ, y = hwy)) + 
  facet_wrap(~ class, nrow = 2)
```


5. Read ?facet_wrap. What does nrow do? What does ncol do? What other options control the layout of the individual panels? Why doesn’t facet_grid() have nrow and ncol argument?

nrow sets the number of rows in a faceted plot, while ncol sets the number of columns. dir sets the direction that the plot may be filled in, either "h" for horizontal, the default, or "v" for vertical. facet_grid() does not have it because it forms a matrix of panels instead of a sequence of panels. 

6. When using facet_grid() you should usually put the variable with more unique levels in the columns. Why?

Compare the two charts below. More columns allows the plot to be more clear. 
```{r}
ggplot(data=mpg) +
  geom_point(mapping = aes(x=displ,y=hwy)) +
  facet_grid(drv ~ cyl)

ggplot(data=mpg) + 
  geom_point(mapping = aes(x=displ,y=hwy)) +
  facet_grid(cyl ~ drv)
```


###3.6.1 Exercises

1. What geom would you use to draw a line chart? A boxplot? A histogram? An area chart?

Line chart: geom_line()
Boxplot: geom_boxplot()
Histogram: geom_histogram()
Area chart: geom_area()

2. Run this code in your head and predict what the output will look like. Then, run the code in R and check your predictions.
My prediction: it will be a grid with displ on the x-axis and hwy on the y-axis. The legend will be based off of "drv", which describes what type of steering style a car has (such as 4wd). The line will be smooth, and there will be data points being the color based on "drv". 

UPDATE: My prediction was very close.
```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = drv)) + 
  geom_point() + 
  geom_smooth(se = FALSE)
```

3. What does show.legend = FALSE do? What happens if you remove it? Why do you think I used it earlier in the chapter?
This line of code deletes the existence of the legend in the plot. It was probably not used so that we could understand what kind of data was being plotted. 

4. What does the se argument to geom_smooth() do?
"Display confidence interval around smooth[line]" according to ?geom_smooth.

5. Will these two graphs look different? Why/why not?
They won't look different, since the first chart is just a more concise way of writting the code for the second. 
```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_point() + geom_smooth()

ggplot() + geom_point(data = mpg, mapping = aes(x = displ, y = hwy)) + geom_smooth(data = mpg, mapping = aes(x = displ, y = hwy))
```


6. Recreate the R code necessary to generate the following graphs.

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy))+
  geom_point() + 
  geom_smooth(se = FALSE)
```

```{r}
ggplot(data = mpg, mapping = aes(x=displ, y=hwy)) + 
  geom_smooth(aes(group = drv), se = FALSE) + geom_point()
```

```{r}
ggplot(data = mpg, mapping = aes(x=displ, y = hwy, color = drv)) + 
  geom_point() +
  geom_smooth(se = FALSE)
```

```{r}
ggplot(data = mpg, mapping = aes(x=displ, y = hwy)) + 
  geom_point(aes(color = drv)) + 
  geom_smooth(se= FALSE)
```

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_point(aes(color = drv)) +
  geom_smooth(aes(linetype = drv), se = FALSE) 
```

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_point(size = 4, colour = "white") + 
  geom_point(aes(colour = drv))
```

###3.7.1 Exercises

1. What is the default geom associated with stat_summary()? How could you rewrite the previous plot to use that geom function instead of the stat function?
geom_pointrange() is the default geom. 
```{r}
ggplot(data = diamonds) + 
  geom_pointrange(mapping = aes(x = cut, y = depth),
    stat = "summary",
    fun.ymin = min,
    fun.ymax = max,
    fun.y = median
  )
```

2. What does geom_col() do? How is it different to geom_bar()?
geom_col() immediately trusts that the type of the values have already been converted to the acceptable output, however geom_bar() uses stat_count() to plot. 

3. Most geoms and stats come in pairs that are almost always used in concert. Read through the documentation and make a list of all the pairs. What do they have in common?

stats and geoms can be used to plot in the package ggplot2. They generally vary by arguments given. They both give mapping, data, poisiton, show.lengend, inherit.aes, na.rm. They differ where geom_end takes in lineend, linejoin, linemitre, and stat takes in contour, n, and h. 

4. What variables does stat_smooth() compute? What parameters control its behaviour?
stat_smooth() computes, y, ymin, ymax, and se. y is the predicted value, while ymin is the lower pointwise confidence interval around the mean, ymax is the upper pointwise confidence interval around the mean, and se is the stand error. Level, method, and se control its behavior. 

5. In our proportion bar chart, we need to set group = 1. Why? In other words what is the problem with these two graphs?
If we forget to add group = 1, the chart is based off of the entire datset instead of certain, targetted portions. 

```{r}
ggplot(data = diamonds) + 
  geom_bar(mapping = aes(x = cut, y = ..prop.., group = 1))

ggplot(data = diamonds) + 
  geom_bar(mapping = aes(x = cut, fill = color, y = ..prop.., group = 1))
```

###3.8.1 Exercises 

1. What is the problem with this plot? How could you improve it?
Too many data points overlap. Jitter spreads the data points out. 
```{r}
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) + 
  geom_jitter()
```

2. What parameters to geom_jitter() control the amount of jittering?
Height and width

3. Compare and contrast geom_jitter() with geom_count().
geom_count() creates larger data points that are much more close together, while geom_jitter() allows the data points to be more spread out and less big. 
#geom_jitter()
```{r}
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
  geom_jitter()
```

#geom_count
```{r}
ggplot(data = mpg, mapping = aes(x=cty, y = hwy)) +
  geom_count()
```

4. What’s the default position adjustment for geom_boxplot()? Create a visualisation of the mpg dataset that demonstrates it.
position_dodge() is the default position
```{r}
ggplot(data = mpg, mapping = aes(x = class, y = hwy, color = drv)) + 
  geom_boxplot(position = "dodge")
```

### 3.9.1 Exercises

1. Turn a stacked bar chart into a pie chart using coord_polar().

```{r}
ggplot(data = mpg, mapping = aes(x= factor(1), fill = class)) + geom_bar(width = 1) +
  coord_polar(theta = "y")
```

2. What does labs() do? Read the documentation.
labs() allows you to modify axis, legend, and plot labels

3. What’s the difference between coord_quickmap() and coord_map()?
coord_map() creates projections of the earth, which is approximately spherical, and onto a 2D plane. It requires considerbale computation since it does not preserve straight lines. coord_quickmap() is a quick approximate that does preserve straight lines.

4. What does the plot below tell you about the relationship between city and highway mpg? Why is coord_fixed() important? What does geom_abline() do?

```{r}
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
  geom_point() + 
  geom_abline() +
  coord_fixed()
```
 
 The relationship, as shown by the straight line, is linear between city and high mpg. coord_fixed() allows the axises to be proportionate so that a clear relationship can be seen. geom_abline() draws the sloped line. 
